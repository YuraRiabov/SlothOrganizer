<div class="dashboard-wrapper">
    <div class="header">
        <so-dashboard-selection [dashboards]="(dashboards$ | async) || []" [selectedDashboard]="currentDashboard$ | async"
            (newDashboardTitle)="createDashboard($event)" (selectDashboard)="selectDashboard($event)">
        </so-dashboard-selection>
    </div>
    <div class="toolbar">
        <img class="logo" src="assets/logo.png"/>
        <div class="go-to-date-button">
            <input hidden [value]="currentDate" (dateChange)="goToDate($event)" [matDatepicker]="picker">
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </div>
    </div>
    <so-timeline [tasks]="tasks" [date]="currentDate" [scale]="timelineScale" (scaleIncreased)="zoomIn($event)">
    </so-timeline>
    <div class="zoom-buttons">
        <button mat-fab color="primary" [disabled]="timelineScale === 0" (click)="zoomIn()">
            <mat-icon>zoom_in</mat-icon>
        </button>
        <button mat-fab color="primary" [disabled]="timelineScale === 3" (click)="zoomOut()">
            <mat-icon>zoom_out</mat-icon>
        </button>
    </div>
    <button class="create-task-button" color="primary" mat-fab (click)="openCreateSidebar()">
        <mat-icon>add</mat-icon>
    </button>
    
    <div class="sidebar" *ngIf="sidebarOpen">
        <so-dashboard-sidebar [type]="sidebarType" (clickedOff)="sidebarOpen = false"></so-dashboard-sidebar>
    </div>

    <div class="blur" *ngIf="sidebarOpen"></div>
</div>